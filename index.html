<!DOCTYPE html>
<html lang="en" data-ng-app="app" ng-controller="AppCtrl">
    <head>
        <meta charset="utf-8" />
        <title ng-bind-template="{{app.page_title}}"></title>
        <!--<title ng-if="app.name && app.org_name" ng-bind-template="{{app.name}} ({{app.org_name}})"></title>-->
        <meta name="description" content="" />
        <meta name="keywords" content="" />
        <!--        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />-->
        <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css" type="text/css" />
        <link rel="stylesheet" href="bower_components/animate.css/animate.css" type="text/css" />
        <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css" type="text/css" />
        <link rel="stylesheet" href="bower_components/simple-line-icons/css/simple-line-icons.css" type="text/css" />
        <link rel="stylesheet" href="css/font.css" type="text/css" />
        <link rel="stylesheet" href="css/app.css" type="text/css" />
        <link rel="stylesheet" href="css/autocomplete.css" type="text/css" />
        <link rel="stylesheet" href="css/style.css" type="text/css" />
        <link rel="stylesheet" href="css/slidebars.css" type="text/css" />
        <link rel="stylesheet" href="bower_components/angular-ivh-treeview/dist/ivh-treeview.css" type="text/css" />
        <link rel="stylesheet" href="bower_components/angular-ivh-treeview/dist/ivh-treeview-theme-basic.css" type="text/css" />
        <link rel="stylesheet" href="bower_components/angularjs-toaster/toaster.css" type="text/css" />
        <link rel="stylesheet" href="css/colorpicker.css" type="text/css" />
        <link rel="stylesheet" href="css/jquery.timepicker.css" type="text/css" />
        <link rel="stylesheet" href="node_modules/angular-hotkeys/build/hotkeys.min.css" type="text/css" />
        <link rel="stylesheet" href="css/custom.css?v=1.4.60" type="text/css" />
        <link rel="stylesheet" href="css/style_familytree.css?v=1.4.60" type="text/css" />
        <link rel="stylesheet" href="node_modules/angular-bootstrap-datetimepicker/src/css/datetimepicker.css"/>
        <link rel="stylesheet" href="node_modules/bootstrap-select-1.10.0/dist/css/bootstrap-select.min.css"/>
        <!--<link rel="stylesheet" href="node_modules/lou-multi-select/css/multi-select.css"/>-->
        <link rel="stylesheet" href="bower_components/ng-camera/app/style.css"/>
        <link rel="stylesheet" type="text/css" href="bower_components/ngImgCrop/compile/minified/ng-img-crop.css">
        <link rel="stylesheet" type="text/css" href="css/editor.css">
        <script type="text/javascript">var APP_VERSION = '1.4.60';</script>


        <link rel="stylesheet" href="css/print.css?v=1.4.60" type="text/css" />
        <!--<link rel="stylesheet" href="css/jquery-ui.css">-->
        <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">

        <!-- Data Table CSS-->
        <link rel="stylesheet" href="bower_components/angular-datatables/vendor/datatables/media/css/jquery.dataTables.min.css">
        <link rel="stylesheet" href="bower_components/angular-datatables/dist/css/angular-datatables.css">
        <link href="bower_components/angular-datatables/dist/plugins/bootstrap/datatables.bootstrap.min.css" rel="stylesheet">

        <link rel="stylesheet" href="css/scrollable-table.css" type="text/css" />
        <link rel="stylesheet" href="css/daterangepicker.css" type="text/css" />
        <link rel="stylesheet" href="css/ui-layout.css" type="text/css" />
<!--        <link rel="stylesheet" href="https://rawgithub.com/angular-ui/ui-layout/v0.0.2/ui-layout.css">-->
    </head>
    <!--prevent-right-click-->
    <body>
        <!-- Spinnerbar -->
        <div class="modalload hide">
            <div class="center">
                <img ng-src="img/loader.gif"  alt=""/>
            </div>
        </div>

        <div id="sb-site">
            <div class="app" id="app" ng-class="{'app-header-fixed':app.settings.headerFixed, 'app-aside-folded':app.settings.asideFolded, 'app-aside-dock':app.settings.asideDock, 'container':app.settings.container}" ui-view></div>
        </div>
        <!-- Your right Slidebar content. -->
        <div class="sb-slidebar sb-right" id="makeit-full" ng-if="app.logged_tenant_id">
            <!-- User Info. -->
            <div id="user-info" class="sb-slidebar-content">
                <div class="thumb-bg">
                    <a class="sb-close" href="#">   <img src="img/close.png"  alt=""></a>
                    <h4> Menu</h4>
                    <div class="clearfix"></div>
                    <h2> {{app.name}} ({{app.org_name}})</h2>
                    <img src="img/user-thumb.jpg"  alt="" class="thumb-img">
                </div>
                <div class="doctor-name">
                    <b>  {{app.username}} </b>
                    <p>
                        <a ui-sref="configuration.changePassword" class="custom-close-sidebar">
                            <i class="fa fa-lock"></i> Change Password
                        </a>
                    </p>
                    <p>
                        <a ui-sref="configuration.appsetting" class="custom-close-sidebar" check-access>
                            <i class="fa fa-cog"></i> Application Settings
                        </a>
                    </p>
                    <p>
                        <a href="" ng-click="logout();">
                            <i class="fa fa-sign-out"></i> Logout
                        </a>
                    </p>
                    <script type="text/ng-template" id="warning-dialog.html">
                        <div class="modal-header">
                            <h3>You're Idle. Do Something!</h3>
                        </div>
                        <div idle-countdown="countdown" ng-init="countdown=10" class="modal-body">
                            <progressbar class="progress-striped active m-b-sm" max="10" value="countdown" type="info"></progressbar>
                            <p><b>You'll be logged out in {{countdown}} second(s)</b></p>
                        </div>

                    </script>
                    <script type="text/ng-template" id="timedout-dialog.html">
                      <div class="modal-header">
                       <h3>You've Timed Out!</h3>
                      </div>
                      <div class="modal-body">
                       <p>
                          You were idle too long. You'd be logged out.
                       </p>
                     </div>
                    </script>
                </div>
            </div>

            <!-- Prescription Notes -->
            <div id="notes"  class="sb-slidebar-content">
                <div id="note-max" class="app-aside-right pos-fix no-padder w-auto-xs bg-white b-l animated fadeInRight hide ng-scope show note-full">
                    <div class="vbox">
                        <div class="wrapper b-b b-t b-light m-b right-heading">
                            <a target=".app-aside-right" class="pull-right text-muted text-md expand-notes" href=""><i aria-hidden="true" class="fa fa-expand"></i></a>
                            Notes
                        </div>
                        <div class="row-row">
                            <div class="cell">
                                <div class="cell-inner padder">
                                    <!-- notes list -->
                                    <div ng-repeat="(date,allNote) in child.notes | orderBy:'pat_note_id' | groupBy:'created_date'">
                                        <!--                                        <p><b>Encounter: {{note.encounter_id}}</b></p>-->
                                        <div class="vitals-cont-date">
                                            <div class="label bg-info">{{check_date(allNote[0].created_date)}}</div>
                                        </div>
                                        <div class="vitals-table">
                                            <div ng-repeat="note in allNote" class="bg-grey-only r r-2x m-b-xs wrapper-xs b-l b-2x b-{{note.seen_by == 0 ? 'danger' : 'info'}} word-wrap">
                                                <a ng-if="note.encounter_status == '1'" check-access-custom3 style="color: #363f44;" title="Edit" data-url='patient.noteUpdate' ng-click="GetNote('{{$state.params.id}}','{{note.pat_note_id}}')">
                                                    <i class="fa fa-pencil"></i>
                                                </a> &nbsp;&nbsp;
                                                {{note.notes}}
                                                <div class="text-xs text-muted ng-binding">
                                                    {{note.created_at| moment:'hh:mm A'}}
                                                    <span class="notes_writer pull-right">
                                                        -{{note.created_by_short_name}}
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- / notes list -->
                                </div>
                            </div>
                        </div>
                        <div class="wrapper m-t b-t b-light">
                                <form ng-submit="addNotes()" class="m-b-none ng-pristine ng-valid ng-submitted" ng-init="presc_right.notedata  =  {};
                                presc_right.notes_error  =  false;">
                                <div class="input-group">
                                    <textarea rows="1" placeholder="Say something" class="form-control" ng-model="presc_right.notedata.notes" enter-submit="addNotes()"></textarea>
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-default save-btn" ng-click="addNotes()">{{ (presc_right.notedata.pat_note_id == NULL)?"Add":"Save"}}</button>
                                    </span>
                                </div>
                                <span class="text-danger" ng-show="presc_right.notes_error">Enter Text !!! </span>
                                <input type="hidden" ng-model="presc_right.notedata.pat_note_id">
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Prescription Vitals -->
            <div id="vitals"  class="sb-slidebar-content">
                <div class="app-aside-right pos-fix no-padder w-auto-xs bg-white b-l animated fadeInRight hide ng-scope show note-full">
                    <div class="vbox">
                        <div class="wrapper b-b b-t b-light m-b right-heading">
                            <a target=".app-aside-right" class="pull-right text-muted text-md expand-notes" href=""><i aria-hidden="true" class="fa fa-expand"></i></a>
                            Vitals
                        </div>
                        <div class="row-row">
                            <div class="cell">
                                <div class="cell-inner padder">
                                    <!-- vitals list -->
                                    <!--<div ng-repeat="(date, allVital) in child.vitals | orderBy:'created_at' | groupBy:'created_date'" class="vitals-cont">
                                        <div class="vitals-cont-date">
                                            <div class="label bg-info">{{check_date(date)}}</div>
                                        </div>-->

                                    <div ng-repeat="vital in child.vitals| orderBy:'created_at' ">
                                        <div class="vitals-cont-date">
                                            <a ng-if="vital.encounter_status == '1'" class="label bg-dark" check-access-custom3 title="Edit" data-url='patient.vitalUpdate' ng-click="GetVital('{{$state.params.id}}','{{vital.vital_id}}')">
                                                <i class="fa fa-pencil"></i>
                                            </a>
                                            <div class="label bg-info">{{check_date(vital.created_date)}}</div>
                                            <span class="label {{vital.seen_by == 0 ? 'bg-danger' : 'bg-dark'}}">
                                                {{vital.created_at| moment:'hh:mm A'}}
                                            </span>
                                        </div>
                                        <div class="vitals-table">
                                            <table width="100%" border="0" cellspacing="0" cellpadding="0" class="table table-bordered" >
                                                <tr ng-if="vital.pulse_rate">
                                                    <th>Pulse</th>
                                                    <td>{{vital.pulse_rate}}</td>
                                                </tr>
                                                <tr ng-if="vital.blood_pressure_systolic || vital.blood_pressure_diastolic">
                                                    <th>BP</th>
                                                    <td>
                                                        {{vital.blood_pressure_systolic|| '-'}} 
                                                        / {{vital.blood_pressure_diastolic|| '-'}}
                                                    </td>
                                                </tr>
                                                <tr ng-if="vital.temperature">
                                                    <th>Temperature</th>
                                                    <td>{{vital.temperature}} °C</td>
                                                </tr>
                                                <tr ng-if="vital.weight">
                                                    <th>Weight</th>
                                                    <td>{{vital.weight}} Kg </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>


                                    <!--</div>-->
                                    <!-- / vitals list -->
                                </div>
                            </div>
                        </div>

                        <div class="wrapper m-t b-t b-light">
                                <form class="m-b-none ng-pristine ng-valid ng-submitted" ng-submit="addVital()" ng-init="presc_right.vitaldata  =  {};
                                presc_right.vital_error  =    false;  presc_right.vital_number_error = false;">
                                <div class="form-group">
                                    <div class="row">
                                        <div class="text-danger col-sm-12" ng-show="presc_right.vital_error">
                                            Cannot create blank entry
                                        </div>
                                        <div class="text-danger col-sm-12" ng-show="presc_right.vital_number_error">
                                            Accept Only number and dot.
                                        </div>
                                        <div class="col-sm-6">
                                            <input type="text" maxlength="5" placeholder="Temperature" class="form-control" ng-model="presc_right.vitaldata.temperature">
                                        </div>
                                        <div class="col-sm-6">
                                            <input type="text" maxlength="5" placeholder="Pulse" class="form-control" ng-model="presc_right.vitaldata.pulse_rate">
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <input type="text" maxlength="3" placeholder="BP Systolic" class="form-control vital_bp" ng-model="presc_right.vitaldata.blood_pressure_systolic">
                                            <label class="vital_bp_slash"> / </label>
                                            <input type="text" maxlength="3" placeholder="BP Diastolic" class="form-control vital_bp" ng-model="presc_right.vitaldata.blood_pressure_diastolic">
                                        </div>                                        
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <input type="text" maxlength="5" placeholder="Weight" class="form-control" ng-model="presc_right.vitaldata.weight">
                                        </div>
                                        <div class="col-sm-6">
                                            <span class="input-group-btn">
                                                <button type="button" class="btn btn-default save-btn" ng-click="addVital()">Add</button>
                                            </span>
                                            <input type="hidden" ng-model="presc_right.vitaldata.vital_id">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Prescription Favorites -->
            <div id="fav" class="sb-slidebar-content">
                <div class="app-aside-right pos-fix no-padder w-auto-xs bg-white b-l animated fadeInRight hide ng-scope show note-full">
                    <div class="vbox">
                        <div class="wrapper b-b b-t b-light m-b right-heading">
                            <a target=".app-aside-right" class="pull-right text-muted text-md expand-notes" href="">
                                <i aria-hidden="true" class="fa fa-expand"></i>
                            </a>
                            Favourites
                        </div>
                        <div class="row-row">
                            <div class="cell">
                                <div class="cell-inner padder">
                                    <!-- notes list -->
                                    <ul class="list-group no-radius ">
                                        <li class="list-group-item" ng-repeat="favourite in child.favourites">
                                            <a class="btn btn-default btn-xs active" ui-toggle-class="" href="#"  ng-click="toggleFavourite(favourite.pres_fav_id)">
                                                <i class="fa fa-star-o text-muted text"></i>
                                                <i class="fa fa-star text-danger text-active"></i>
                                            </a> &nbsp;
                                            <a href="javascript:void(0)" ng-click="addFavouritePrescForm(favourite)">
                                                {{favourite.product_name}}
                                            </a>
                                        </li>
                                    </ul>
                                    <!-- / notes list -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="patient-preview-pop-up" style="display:none;">
            <img src="" />
        </div>
        
        <!-- jQuery -->
        <script src="bower_components/jquery/dist/jquery.min.js"></script>
        <script src="bower_components/angular-datatables/vendor/datatables/media/js/jquery.dataTables.min.js"></script>
        <script type="text/javascript" src="js/jquery-ui.js"></script>
        <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
        <script src="js/jquery.timepicker.min.js"></script>
        <script src="js/slidebars.js"></script>

        <script type="text/javascript" src="node_modules/moment/moment.js"></script>
        <!-- Angular -->
        <script src="bower_components/angular/angular.js"></script>
        <script src="bower_components/angular-datatables/dist/angular-datatables.min.js"></script>
        <script src="bower_components/angular-animate/angular-animate.js"></script>
        <script src="bower_components/angular-cookies/angular-cookies.js"></script>
        <script src="bower_components/angular-resource/angular-resource.js"></script>
        <script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
        <script src="bower_components/angular-touch/angular-touch.js"></script>
        <script src="bower_components/angular-ui-router/release/angular-ui-router.js"></script>
        <script src="bower_components/ngstorage/ngStorage.js"></script>
        <script src="bower_components/angular-ui-utils/ui-utils.js"></script>
        <script src="js/angular-messages.js"></script>
        <!-- bootstrap -->
        <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
        <!-- lazyload -->
        <script src="bower_components/oclazyload/dist/ocLazyLoad.js"></script>
        <!-- translate -->
        <script src="bower_components/angular-translate/angular-translate.js"></script>
        <script src="bower_components/angular-translate-loader-static-files/angular-translate-loader-static-files.js"></script>
        <script src="bower_components/angular-translate-storage-cookie/angular-translate-storage-cookie.js"></script>
        <script src="bower_components/angular-translate-storage-local/angular-translate-storage-local.js"></script>
        <script src="bower_components/angular-ivh-treeview/dist/ivh-treeview.js"></script>
        <script src="bower_components/angularjs-toaster/toaster.js"></script>
        <script src="js/angular-filter.js"></script>
        <script src="bower_components/webcamjs/webcam.js"></script>
        <script src="bower_components/ng-camera/dist/ng-camera.js"></script>
        <script src="bower_components/ngImgCrop/compile/minified/ng-img-crop.js"></script>
        <script src="bower_components/angular-xslt/src/ng-xslt.js"></script>
        <script src="bower_components/angular-io-barcode-master/build/angular-io-barcode.min.js"></script>
        <script type="text/javascript" src="bower_components/pdfmake-master/build/pdfmake.js"></script>
        <script type="text/javascript" src="bower_components/pdfmake-master/build/vfs_fonts.js"></script>
        <script src="js/re-tree.js" type="text/javascript"></script>
        <script type="text/javascript" src="bower_components/ng-device-detector/ng-device-detector.js"></script>
        <script type="text/javascript" src="js/jquery.cookie.js"></script>
        <script type="text/javascript" src="js/angular-lazy-img.min.js"></script>
        <script type="text/javascript" src="js/ng-infinite-scroll.js"></script>
        <script type="text/javascript" src="js/autocomplete.js?v=1.4.60"></script>
        <!--        <script src="bower_components/angular-socket-io-master/socket.js"></script>
                <script src="bower_components/angular-socket-io-master/socket.io-client-master/socket.io.js"></script>-->

        <!--        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
                <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/restangular/1.3.1/restangular.min.js"></script>-->
        <!-- App -->
        <script type="text/javascript" src="js/ui-layout.js"></script>
<!--         <script type="application/javascript" src="https://rawgithub.com/angular-ui/ui-layout/v0.0.2/ui-layout.min.js"></script>-->
        <script src="js/app.js?v=1.4.60"></script>
        <script src="js/config.js?v=1.4.60"></script>
        <script src="js/config.lazyload.js?v=1.4.60"></script>
        <script src="js/config.router.js?v=1.4.60"></script>
        <script src="js/main.js?v=1.4.60"></script>
        <script src="js/services/ui-load.js"></script>
        <script src="js/services/authentication.service.js"></script>
        <script src="js/services/prescription.service.js?v=1.4.60"></script>
        <script src="js/services/common.service.js?v=1.4.60"></script>
        <script src="js/services/modal-service.js"></script>
        <script src="js/services/API.interceptor.js"></script>
        <script src="js/filters/fromNow.js"></script>
        <script src="js/directives/setnganimate.js"></script>
        <script src="js/directives/ui-butterbar.js"></script>
        <script src="js/directives/ui-focus.js"></script>
        <script src="js/directives/ui-fullscreen.js"></script>
        <script src="js/directives/ui-jq.js"></script>
        <script src="js/directives/ui-module.js"></script>
        <script src="js/directives/ui-nav.js"></script>
        <script src="js/directives/ui-scroll.js"></script>
        <script src="js/directives/ui-shift.js"></script>
        <script src="js/directives/ui-toggleclass.js"></script>
        <script src="js/controllers/bootstrap.js?v=1.4.60"></script>
        <script src="js/custom.js?v=1.4.60"></script>
        <!--<script src="js/slidebars.js"></script>-->
        <script src="js/directives/expand.js"></script>
        <script src="js/bootstrap-colorpicker-module.js"></script>
        <script src="js/jquery.numeric.js"></script>
        <script src="js/directives/numberMask.js"></script>
        <script src="js/directives/decimalPlaces.js"></script>
        <script src="js/directives/onlyDigits.js"></script>
        <script src="js/directives/confirm-needed.js"></script>
        <script src="js/directives/checkAccess.js"></script>
        <script src="js/directives/stSelectDistinct.js"></script>
        <script src="js/directives/preventRightClick.js"></script>
        <script src="js/directives/focusMe.js"></script>
        <script src="js/directives/preventEnter.js"></script>
        <script src="js/directives/enterSubmit.js"></script>
        <script src="js/directives/limitTo.js"></script>
        <script src="js/directives/ngPrint.js"></script>
        <script src="js/directives/exportTable.js"></script>
        <script src="js/directives/selectOnClick.js"></script>
        <script src="js/directives/nextOnTab.js"></script>
        <script src="js/directives/fileModel.js"></script>
        <script src="js/exportTable/tableExport.js"></script>
        <script src="js/exportTable/jquery.base64.js"></script>
        <script src="js/exportTable/html2canvas.js"></script>
        <script src="js/exportTable/jspdf/libs/sprintf.js"></script>
        <script src="js/exportTable/jspdf/jspdf.js"></script>
        <script src="js/exportTable/jspdf/libs/base64.js"></script>
        <script src="js/directives/camera.js"></script>
        <script src="js/directives/smartTable.js"></script>
        <script src="js/directives/parseStyle.js"></script>

        <script type="text/javascript" src="node_modules/angular-bootstrap-datetimepicker/src/js/datetimepicker.js"></script>
        <script type="text/javascript" src="node_modules/angular-bootstrap-datetimepicker/src/js/datetimepicker.templates.js"></script>
        <script type="text/javascript" src="node_modules/angular-date-time-input/src/dateTimeInput.js"></script>
        <script type="text/javascript" src="node_modules/angular-hotkeys/build/hotkeys.min.js"></script>
        <script type="text/javascript" src="node_modules/bootstrap-select-1.10.0/dist/js/bootstrap-select.js"></script>
        <script type="text/javascript" src="node_modules/ng-auto-save/ng-auto-save.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ng-idle/1.3.2/angular-idle.js"></script>
        <!--<script type="text/javascript" src="node_modules/lou-multi-select/js/jquery.multi-select.js"></script>-->
        <!--<script src="js/directives/extra.js"></script>-->
        <!--<script src="js/angular-local-storage.js"></script>-->
        <!-- Lazy loading -->
        <script type="text/javascript" src="js/classie.js"></script>
        <script type="text/javascript" src="js/classie_script.js"></script>
        <script type="text/javascript" src="js/ui-mask.js"></script>
        <script type="text/javascript" src="js/directives/dateMask.js"></script>
        <script type="text/javascript" src="js/directives/dropDisable.js"></script>
        <script type="text/javascript" src="js/directives/typeaheadFocus.js"></script>
        <script type="text/javascript" src="js/directives/optionsClass.js"></script>
        <!--<script src="ckeditor/ckeditor.js"></script>-->

        <script src="js/angular-scrollable-table.js"></script>
        <script src="js/printThis.js"></script>
        <script src="js/jQuery.print.js"></script>
        <!--        <script src="js/editor.js"></script>-->
        <script src="js/ps-family.js?v=1.4.60"></script>
        <!-- Below file not found, So hidden by Nad.-->
        <!--<script src="https://rawgithub.com/eligrey/FileSaver.js/master/FileSaver.js" type="text/javascript"></script>-->
        <!-- Used stock report xls generation-->
        <script src="js/FileSaver.min.js"></script>

        <script src="js/daterangepicker.js"></script>

        <script src="js/jszip.js"></script>
    </body>
</html>
